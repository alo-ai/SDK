
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-e9bde216.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-3eafe035.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#account" class="toc-h1 toc-link" data-title="Account">Account</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#account-authentication-key" class="toc-h2 toc-link" data-title="Authentication Key">Authentication Key</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#chat-sdk" class="toc-h1 toc-link" data-title="Chat SDK">Chat SDK</a>
          </li>
          <li>
            <a href="#presence-sdk" class="toc-h1 toc-link" data-title="Presence SDK">Presence SDK</a>
          </li>
          <li>
            <a href="#audio-sdk" class="toc-h1 toc-link" data-title="Audio SDK">Audio SDK</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#audio-sdk-overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-prerequisites" class="toc-h2 toc-link" data-title="Prerequisites">Prerequisites</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-instantiating-the-audio-service-object" class="toc-h2 toc-link" data-title="Instantiating the Audio Service Object">Instantiating the Audio Service Object</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-disconnecting-from-the-audio-service" class="toc-h2 toc-link" data-title="Disconnecting from the Audio Service">Disconnecting from the Audio Service</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-connect-to-a-channel" class="toc-h2 toc-link" data-title="Connect to a Channel">Connect to a Channel</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-leave-channel" class="toc-h2 toc-link" data-title="Leave Channel">Leave Channel</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-push-to-talk-ptt" class="toc-h2 toc-link" data-title="Push To Talk (PTT)">Push To Talk (PTT)</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-full-duplex" class="toc-h2 toc-link" data-title="Full Duplex">Full Duplex</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-mute-and-unmute-audio" class="toc-h2 toc-link" data-title="Mute and Unmute Audio">Mute and Unmute Audio</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-input-device-selection" class="toc-h2 toc-link" data-title="Input Device Selection">Input Device Selection</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-handling-channel-participants" class="toc-h2 toc-link" data-title="Handling Channel Participants">Handling Channel Participants</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-text-to-speech-audio" class="toc-h2 toc-link" data-title="Text To Speech Audio">Text To Speech Audio</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-automatic-reconnects" class="toc-h2 toc-link" data-title="Automatic Reconnects">Automatic Reconnects</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-error-messages" class="toc-h2 toc-link" data-title="Error Messages">Error Messages</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-api" class="toc-h2 toc-link" data-title="API">API</a>
                  </li>
                  <li>
                    <a href="#audio-sdk-handling-events" class="toc-h2 toc-link" data-title="Handling Events">Handling Events</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#video-sdk" class="toc-h1 toc-link" data-title="Video SDK">Video SDK</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#video-sdk-overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#video-sdk-prerequisites" class="toc-h2 toc-link" data-title="Prerequisites">Prerequisites</a>
                  </li>
                  <li>
                    <a href="#video-sdk-instantiating-the-video-service-object" class="toc-h2 toc-link" data-title="Instantiating the Video Service Object">Instantiating the Video Service Object</a>
                  </li>
                  <li>
                    <a href="#video-sdk-disconnecting-from-the-video-service" class="toc-h2 toc-link" data-title="Disconnecting from the Video Service">Disconnecting from the Video Service</a>
                  </li>
                  <li>
                    <a href="#video-sdk-connect-channel" class="toc-h2 toc-link" data-title="Connect Channel">Connect Channel</a>
                  </li>
                  <li>
                    <a href="#video-sdk-input-device-selection" class="toc-h2 toc-link" data-title="Input Device Selection">Input Device Selection</a>
                  </li>
                  <li>
                    <a href="#video-sdk-publishing-local-video" class="toc-h2 toc-link" data-title="Publishing Local Video">Publishing Local Video</a>
                  </li>
                  <li>
                    <a href="#video-sdk-participants" class="toc-h2 toc-link" data-title="Participants">Participants</a>
                  </li>
                  <li>
                    <a href="#video-sdk-handling-remote-video-streams" class="toc-h2 toc-link" data-title="Handling Remote Video Streams">Handling Remote Video Streams</a>
                  </li>
                  <li>
                    <a href="#video-sdk-muting-unmuting-remote-video-streams" class="toc-h2 toc-link" data-title="Muting/Unmuting Remote Video Streams">Muting/Unmuting Remote Video Streams</a>
                  </li>
                  <li>
                    <a href="#video-sdk-recording-video" class="toc-h2 toc-link" data-title="Recording Video">Recording Video</a>
                  </li>
                  <li>
                    <a href="#video-sdk-automatic-reconnects" class="toc-h2 toc-link" data-title="Automatic Reconnects">Automatic Reconnects</a>
                  </li>
                  <li>
                    <a href="#video-sdk-error-messages" class="toc-h2 toc-link" data-title="Error Messages">Error Messages</a>
                  </li>
                  <li>
                    <a href="#video-sdk-api" class="toc-h2 toc-link" data-title="API">API</a>
                  </li>
                  <li>
                    <a href="#video-sdk-handling-events" class="toc-h2 toc-link" data-title="Handling Events">Handling Events</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#kittens-todo-remove" class="toc-h1 toc-link" data-title="Kittens (TODO: remove)">Kittens (TODO: remove)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#kittens-todo-remove-get-all-kittens" class="toc-h2 toc-link" data-title="Get All Kittens">Get All Kittens</a>
                  </li>
                  <li>
                    <a href="#kittens-todo-remove-get-a-specific-kitten" class="toc-h2 toc-link" data-title="Get a Specific Kitten">Get a Specific Kitten</a>
                  </li>
                  <li>
                    <a href="#kittens-todo-remove-delete-a-specific-kitten" class="toc-h2 toc-link" data-title="Delete a Specific Kitten">Delete a Specific Kitten</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Now you can bring AI-enabled push-to-talk, text messaging, and video chat to your app and give users the ability to communicate instantly. The ĀLO SDK also supports task management, presence management, and our developer-first SDK is designed to get you up and running quickly.</p>
<h1 id='account'>Account</h1>
<p>TODO: Some text here about how to sign up for a developer account</p>
<h2 id='account-authentication-key'>Authentication Key</h2>
<p>TODO: Some text here about to use your API key</p>

<blockquote>
<p>To authenticate, use this code:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">//TODO: need some real code here:</span>
<span class="kd">const</span> <span class="nx">AloAuthentication</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">AloAuthentication</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">auth</span> <span class="o">=</span> <span class="nx">AloAuthentication</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="dl">'</span><span class="s1">&lt;ALO AUTHENTICATION KEY&gt;</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>Make sure to replace <code>&lt;ALO AUTHENTICATION KEY&gt;</code> with your AUTHENTICATION key.</p>
</blockquote>

<p>ĀLO uses AUTHENTICATION keys to allow access ... BLAH, BLAH, BLAH. You can register a new ĀLO AUTHENTICATION key at our <a href="http://alo.ai/dev">developer portal</a>.</p>

<aside class="notice">
You must replace <code>ALO AUTHENTICATION KEY</code> with your AUTHENTICATION key.
</aside>

<h1 id='chat-sdk'>Chat SDK</h1>

<h1 id='presence-sdk'>Presence SDK</h1>

<p><h1 id='audio-sdk'>Audio SDK</h1><h2 id='audio-sdk-overview'>Overview</h2>
<p>TODO: Add some text here</p>
<h2 id='audio-sdk-prerequisites'>Prerequisites</h2>
<p>TODO: Add some text here?</p>
<h3 id='audio-sdk-prerequisites-get-an-api-key'>Get an API Key</h3>
<p>TODO: Explain how to get the account credentials</p>
<h3 id='audio-sdk-prerequisites-get-the-javascript-sdk'>Get the Javascript SDK</h3>
<blockquote>
<p>Import the SDK</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="nx">AloAudio</span> <span class="k">from</span> <span class="dl">&quot;</span><span class="s2">alo-audio-js</span><span class="dl">&quot;</span><span class="p">;</span>
</code></pre></div>
<p><code>npm install --save alo-audio-js</code></p></p>

<p>TODO: will we also have a CDN version of the SDK?</p>

<h2 id='audio-sdk-instantiating-the-audio-service-object'>Instantiating the Audio Service Object</h2>

<p>In order to instantiate the AloAudio object you are required to provide a number of properties. Once you have defined the properties you instantiate as shown:</p>

<p><code>aloAudio = new AloAudio(props);</code></p>

<h3 id='audio-sdk-instantiating-the-audio-service-object-user-object'>User Object</h3>

<p>TODO: create a User object class (maybe call it Participant instead)</p>

<p>The user object defines the user that will be participating in the audio channels.</p>

<blockquote>
<p>Sample User Object.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code> <span class="nx">user</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Some unique id</span><span class="dl">"</span><span class="p">,</span>
   <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Some display name for the user</span><span class="dl">"</span><span class="p">,</span>
   <span class="nx">deviceId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Some unique id associated with user's current device</span><span class="dl">"</span>
 <span class="p">}</span>
</code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Unique User identifier</td>
</tr>
<tr>
<td>name</td>
<td>No</td>
<td>Name to be displayed in the list of participants for the current user.  If not provided a name will be generated from the user <code>id</code> and <code>deviceId</code></td>
</tr>
<tr>
<td>deviceId</td>
<td>No</td>
<td>Unique device identifier.  If not provided a random id will be generated.</td>
</tr>
</tbody></table>

<h3 id='audio-sdk-instantiating-the-audio-service-object-instantiation-properties'>Instantiation Properties</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">connectToAudio</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">aloConnections</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">mutexUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;PROVIDED BY ĀLO&gt;</span><span class="dl">'</span>
    <span class="p">};</span>
    <span class="kd">let</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">12345</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">James Jones</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">deviceId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abcd-efsg-wqer-qewe</span><span class="dl">"</span>
    <span class="p">};</span>
    <span class="kd">let</span> <span class="nx">props</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">user</span><span class="p">:</span> <span class="nx">user</span><span class="p">,</span>
      <span class="na">aloConnections</span><span class="p">:</span> <span class="nx">aloConnections</span><span class="p">,</span>
      <span class="na">ttsEnabled</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">};</span>
    <span class="nx">aloAudio</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AloAudio</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="nx">initializeEventListeners</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">initializeEventListeners</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">aloAudio</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">onDisconnect</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">onDisconnect:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
    <span class="p">})</span>

    <span class="nx">aloAudio</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">onConnectionChange</span><span class="dl">'</span><span class="p">,</span> <span class="nx">action</span><span class="p">(</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">onConnectionChange:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>

      <span class="k">switch</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nx">AloAudio</span><span class="p">.</span><span class="na">CONNECTION_STATUS_CONNECTED</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo audio connected</span><span class="dl">"</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">AloAudio</span><span class="p">.</span><span class="na">CONNECTION_STATUS_DISCONNECTED</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo audio disconnected</span><span class="dl">"</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">AloAudio</span><span class="p">.</span><span class="na">CONNECTION_STATUS_ERROR</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo audio connection error</span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">AloAudio</span><span class="p">.</span><span class="na">CONNECTION_STATUS_CONNECTING</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo audio connecting</span><span class="dl">"</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">AloAudio</span><span class="p">.</span><span class="na">CONNECTION_STATUS_RECONNECT_PENDING</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo audio reconnect pending.  Retrying in </span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">pendingRestartSeconds</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>

    <span class="p">}));</span>
<span class="p">}</span>
</code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>Yes</td>
<td></td>
<td>The <a href="#audio-sdk-connecting-to-the-audio-service-user-object">user</a> object that defines the current user</td>
</tr>
<tr>
<td>aloConnections</td>
<td>Yes</td>
<td></td>
<td>TBD</td>
</tr>
<tr>
<td>ttsEnabled</td>
<td>No</td>
<td>false</td>
<td>Set this to true if you want the user to hear TTS audio</td>
</tr>
<tr>
<td>audioInputDeviceId</td>
<td>No</td>
<td>This is to be the id of an audio input device.   When specified this is the device that will be used for audio input.  If no device is specified the operating system&#39;s default audio input device will be used.</td>
<td></td>
</tr>
</tbody></table>

<blockquote>
<p>Example onConnectionChange event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ACQUIRING_ACCESS&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTING&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;RECONNECT_PENDING&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Audio Server Reconnect Pending&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">pendingRestartSeconds:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="err">retryCount:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-connection-related-events'>Connection Related Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onConnectionChange</td>
<td>As the connection to the Audio Service is established events showing the following statuses will be dispatched: AloAudio.CONNECTION_STATUS_ACQUIRING_ACCESS, AloAudio.CONNECTION_STATUS_CONNECTING, AloAudio.CONNECTION_STATUS_CONNECTED, AloAudio.STATUS_NOT_CONNECTED, AloAudio.CONNECTION_STATUS_ERROR, AloAudio.CONNECTION_STATUS_CONNECTED, AloAudio.CONNECTION_STATUS_RECONNECT_PENDING.</td>
</tr>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>

<aside class="notice">
After you call the <code>connect(channel)</code> method the Audio Service will start dispatching events that you should add event listeners for&#46;
See <a href="#audio-sdk-handling-events">Handling Events</a> for more information about the types of events that are available.
</aside>
<h2 id='audio-sdk-disconnecting-from-the-audio-service'>Disconnecting from the Audio Service</h2>
<blockquote>
<p>Audio Service Disconnect.</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloAudio</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
</code></pre></div>
<p>Invoking the <code>disconnect()</code> method will remove the user from any channel that they are currently participating in.  All connections to the audio service will also be terminated.  You will need to <a href="#audio-sdk-connecting-to-the-audio-service">connect</a> again before attempting to join a channel.</p>

<blockquote>
<p>Example onDisconnect event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">disconnect()</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">called</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="err">//</span><span class="w"> </span><span class="err">When</span><span class="w"> </span><span class="err">disconnected</span><span class="w"> </span><span class="err">unexpectedly</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-disconnect-related-events'>Disconnect Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>
<h2 id='audio-sdk-connect-to-a-channel'>Connect to a Channel</h2>
<blockquote>
<p>Sample Channel Connect.</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloAudio</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">myChannelId</span><span class="dl">'</span><span class="p">});</span>
</code></pre></div>
<p>To connect to an audio service channel you call the <code>connect(channel)</code> method:</p>

<p><code>aloAudio.connect(channel);</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel</td>
<td>No</td>
<td></td>
<td>The <a href="#audio-sdk-connect-to-a-channel-channel-object">channel</a> object defining which channel to join upon connection to the service.</td>
</tr>
</tbody></table>

<h3 id='audio-sdk-connect-to-a-channel-channel-object'>Channel Object</h3>

<p>TODO: create a Channel object class</p>

<p>The current channel object defines the audio channel that the user is currently participating in.</p>

<blockquote>
<p>Sample Channel Object.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">currentChannel</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Unique id for the channel</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">isIntercom</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>
</code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td></td>
<td>Unique alphanumeric channel identifier</td>
</tr>
<tr>
<td>isIntercom</td>
<td>No</td>
<td>false</td>
<td>If true this is a full duplex channel.  Otherwise it is a PTT channel.  TODO: do we want to use the word &quot;intercom&quot; ?</td>
</tr>
<tr>
<td>bcp47Language</td>
<td>No</td>
<td></td>
<td>(TODO: need better naming and list of language codes) Language code used for TTS</td>
</tr>
<tr>
<td>bcp47LanguageTag</td>
<td>No</td>
<td></td>
<td>(TODO: need better naming and list of language codes) Language code used for TTS</td>
</tr>
</tbody></table>

<blockquote>
<p>Example onJoinChannel event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINED&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Something went wrong&quot;</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-channel-connect-related-events'>Channel Connect Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onJoinChannel</td>
<td>As the connection to the Audio Service is established events showing the following statuses will be dispatched: AloAudio.CHANNEL_STATUS_JOINING, AloAudio.CHANNEL_STATUS_JOINED, AloAudio.STATUS_FAILED.</td>
</tr>
</tbody></table></p>

<aside class="notice">
After joining a room there are events dispatched about the availablilty of PTT and the Full Duplex microphone&#46;
See <a href="#audio-sdk-push-to-talk-ptt">Push To Talk</a> and <a href="#audio-sdk-full-duplex">Full Duplex</a> for more information.
</aside>

<h2 id='audio-sdk-leave-channel'>Leave Channel</h2>

<p>(NOT YET IMPLEMENTED)</p>

<h2 id='audio-sdk-push-to-talk-ptt'>Push To Talk (PTT)</h2>

<p>TODO: Explain what PTT is - and what &quot;locking (mutex)&quot; means.</p>

<blockquote>
<p>Example onPTTStateChange events payloads</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">"PTT_BUTTON_STATE_AVAILABLE"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">"PTT_BUTTON_STATE_UNAVAILABLE"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Example events received when pressing the PTT button.</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onPTTLockChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">"PTT_LOCK_ACQUIRED"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">onPTTSpeakerChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">onMuteChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">audioType:</span><span class="w"> </span><span class="s2">"PTT"</span><span class="p">,</span><span class="w">
    </span><span class="err">isMuted:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Example events received when releasing the PTT button.</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onPTTLockChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">"PTT_LOCK_RELEASED"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">onPTTSpeakerChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">user:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">//</span><span class="w"> </span><span class="err">onMuteChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">audioType:</span><span class="w"> </span><span class="s2">"PTT"</span><span class="p">,</span><span class="w">
    </span><span class="err">isMuted:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<h3 id='presence-sdk-ptt-related-events'>PTT Related Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onPTTStateChange</td>
<td>This event will let you know when the PTT button is available (meaning you are connected to an audio channel and no one else is speaking). The possible states are AloAudio.PTT_BUTTON_STATE_AVAILABLE and AloAudio.PTT_BUTTON_STATE_UNAVAILABLE.</td>
</tr>
<tr>
<td>onPTTLockChange</td>
<td>When you successfully acquire the lock to use the PTT there will be an event with the AloAudio.PTT_LOCK_ACQUIRED state.  When the lock is released the state will be AloAudio.PTT_LOCK_RELEASED</td>
</tr>
<tr>
<td>onPTTSpeakerChange</td>
<td>When a user acquires the PTT lock there will be an event containing information about the user that current attains the lock.</td>
</tr>
<tr>
<td>onMuteChange</td>
<td>When you acquire the lock there will be an event stating that you microphone is not muted.  When releasing the lock the event will indicate that your microphone is muted.</td>
</tr>
</tbody></table>

<h2 id='audio-sdk-full-duplex'>Full Duplex</h2>

<p>TODO: Explain what Full Duplex is.</p>

<blockquote>
<p>Example microphone event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onMicStateChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;MIC_STATE_AVAILABLE&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onMuteChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">audioType:</span><span class="w"> </span><span class="s2">&quot;INTERCOM&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">isMuted:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-full-duplex-related-events'>Full Duplex Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onMicStateChange</td>
<td>This event will let you know when the Full Duplex microphone button is available (meaning you are connected to an audio channel). The possible states are AloAudio.MIC_STATE_AVAILABLE, AloAudio.MIC_STATE_UNAVAILABLE and AloAudio.MIC_STATE_CHANGING_CHANNEL.  MIC_STATE_CHANGING_CHANNEL is a sub status MIC_STATE_UNAVAILABLE meaning you are in the process of changing channels.</td>
</tr>
<tr>
<td>onMuteChange</td>
<td>When call <code>startIntercom()</code> there will be an event stating that you microphone is not muted.  When you call <code>endIntercom()</code> the event will indicate that your microphone is muted.  See <a href="#audio-sdk-mute-and-unmute-audio">Mute and Unmute Audio</a> for more information</td>
</tr>
</tbody></table></p>

<h2 id='audio-sdk-mute-and-unmute-audio'>Mute and Unmute Audio</h2>

<p>When using full duplex audio you have the ability to mute/unmute your microphone with the <code>startIntercom()</code> and <code>endIntercom()</code> methods.</p>

<p>Before allowing the end user to mute/unmute the microphone you should make sure you have received a <code>MIC_STATE_UNAVAILABLE</code> state from the <code>onMicStateChange</code> event.  See <a href="#audio-sdk-full-duplex">Full Duplex</a></p>

<blockquote>
<p>Example mute event payload</p>
</blockquote>

<p><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">detail</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">audioType</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">INTERCOM</span><span class="dl">&quot;</span><span class="p">,</span>
    <span class="na">isMuted</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h3 id='presence-sdk-mute-related-events'>Mute Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onMuteChange</td>
<td>After <code>startIntercom()</code> is called there will be an event stating that you microphone is not muted.  When you call <code>endIntercom()</code> the event will indicate that your microphone is muted.</td>
</tr>
</tbody></table></p>

<p>TODO: start/endIntercom are terrible names. Change to mute/unmuteAudio (or something along those lines)</p>

<h2 id='audio-sdk-input-device-selection'>Input Device Selection</h2>

<blockquote>
<p>Example device list retrieval</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">devices</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">aloAudio</span><span class="p">.</span><span class="nx">getMediaList</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">listElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">select#availableMicrophones</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">listElement</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">devices</span><span class="p">[</span><span class="nx">AloAudioSDK</span><span class="p">.</span><span class="nx">MEDIA_DEVICE_LIST_AUDIO_INPUT</span><span class="p">]).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">device</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">inputOption</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">option</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">inputOption</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">device</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
  <span class="nx">inputOption</span><span class="p">.</span><span class="nx">label</span> <span class="o">=</span> <span class="nx">device</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>
  <span class="nx">inputOption</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">device</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>
  <span class="nx">listElement</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">inputOption</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p>Before joining an audio channel you have the option of selecting which audio input device (microphone) to use.  If you do not specify an input device the operating system&#39;s default device will be used.</p>

<p>In order to get the current list of available audio devices you can use the <code>getMediaList()</code> method.</p>

<p>You should also add a listener for the <code>onDeviceListUpdate</code> event.  If input devices change you can update your input device selection.</p>

<blockquote>
<p>Example onDeviceListUpdate event payload</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="mi">80</span><span class="err">c</span><span class="mi">24043</span><span class="err">a</span><span class="mi">7</span><span class="err">acb</span><span class="mi">547</span><span class="err">b</span><span class="mi">1</span><span class="err">eda</span><span class="mi">7</span><span class="err">f</span><span class="mi">0</span><span class="err">de</span><span class="mi">20</span><span class="err">ea</span><span class="mi">9917e6</span><span class="err">dea</span><span class="mi">90091</span><span class="err">dab</span><span class="mi">7</span><span class="err">a</span><span class="mi">5</span><span class="err">a</span><span class="mi">5258</span><span class="err">f</span><span class="mi">74e91714</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">"80c24043a7acb547b1eda7f0de20ea9917e6dea90091dab7a5a5258f74e91714"</span><span class="p">,</span><span class="w">
        </span><span class="err">label:</span><span class="w"> </span><span class="s2">""</span><span class="err">Microphone</span><span class="w"> </span><span class="err">(HD</span><span class="w"> </span><span class="err">Webcam</span><span class="w"> </span><span class="err">C</span><span class="mi">615</span><span class="err">)</span><span class="w"> </span><span class="err">(</span><span class="mi">046</span><span class="err">d:</span><span class="mi">082</span><span class="err">c)</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="err">type:</span><span class="w"> </span><span class="s2">"audioinput"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="mi">752999</span><span class="err">ac</span><span class="mi">8</span><span class="err">b</span><span class="mi">718</span><span class="err">aa</span><span class="mi">41</span><span class="err">f</span><span class="mi">3</span><span class="err">d</span><span class="mi">2</span><span class="err">a</span><span class="mi">9755</span><span class="err">dfabf</span><span class="mi">2</span><span class="err">b</span><span class="mi">8</span><span class="err">f</span><span class="mi">80</span><span class="err">d</span><span class="mi">613701</span><span class="err">a</span><span class="mi">36</span><span class="err">b</span><span class="mi">487939</span><span class="err">b</span><span class="mi">38</span><span class="err">ab</span><span class="mi">6095</span><span class="err">d:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">"752999ac8b718aa41f3d2a9755dfabf2b8f80d613701a36b487939b38ab6095d"</span><span class="p">,</span><span class="w">
        </span><span class="err">label:</span><span class="w"> </span><span class="s2">"Microphone Array (Realtek(R) Audio)"</span><span class="p">,</span><span class="w">
        </span><span class="err">type:</span><span class="w"> </span><span class="s2">"audioinput"</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<h3 id='presence-sdk-input-device-related-events'>Input Device Related Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onDeviceListUpdate</td>
<td>This event will let you know the list of available input devices has changed.</td>
</tr>
</tbody></table>

<p>When you instantiate the AloAudio object you can specify the input device id on the <code>audioInputDeviceId</code> property.  See: <a href="#audio-sdk-connecting-to-the-audio-service-instantiation-properties">Instantiation Properties</a></p>

<blockquote>
<p>Example change audio input code</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloAudio</span><span class="p">.</span><span class="nx">changeAudioInput</span><span class="p">(</span><span class="nx">deviceId</span><span class="p">);</span>
</code></pre></div>

<p>If you are already in an audio channel you can change your input device with the <code>changeAudioInput</code> method.</p>

<aside class="notice">
If you have specified an audio input device that becomes unavailable (unplugged for example), the audio input will change to the operating system's default device.
</aside>

<h2 id='audio-sdk-handling-channel-participants'>Handling Channel Participants</h2>

<p>TODO: explain what a channel participant is</p>

<p>TODO: Participant should have deviceId if possible</p>

<p>TODO: participant id vs user id is confusing and we need a way to convey the difference (or hide the difference).</p>

<p>TODO: audio sdk should possibly  the same participant id assignment scheme as we use in video sdk</p>

<blockquote>
<p>Example onParticipantsChanged event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">currentParticipantId:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="err">participants:</span><span class="w"> </span><span class="err">Array(</span><span class="mi">2</span><span class="err">)</span><span class="w">
      </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Jim Jones&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;2963&quot;</span><span class="w">
      </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;fd8aef24-bbb4-48aa-9d7c-f90d1c30d9a5&quot;</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Sally Smith&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;6487&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-channel-participant-related-events'>Channel Participant Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onParticipantsChanged</td>
<td>When you join a channel you will there will be an event that gives you a list of the current channel participants.  While in a given channel a similar event each time a participant enters or leaves the channel.</td>
</tr>
</tbody></table></p>

<h2 id='audio-sdk-text-to-speech-audio'>Text To Speech Audio</h2>

<p>TODO: explain what TTS is all about</p>

<h3 id='audio-sdk-text-to-speech-audio-enabling-tts'>Enabling TTS</h3>

<p>TODO: a better explanation:
When you initialize the AloAudio object one of the optional properties is <code>ttsEnabled</code>.  When you specify a value of <code>true</code> any channel text that is converted to audio in your current channel will be played.</p>

<h3 id='audio-sdk-text-to-speech-audio-specifying-a-tts-language'>Specifying a TTS Language</h3>

<p>TODO: Explain what the language codes/tags are and how to use them</p>

<h2 id='audio-sdk-automatic-reconnects'>Automatic Reconnects</h2>

<p>By default the Audio SDK will automatically try to reconnect if there is any sort of connection issue.</p>

<p>TODO: explain how reconnects work
TODO: explain the option to turn off auto reconnects</p>

<h2 id='audio-sdk-error-messages'>Error Messages</h2><h2 id='audio-sdk-api'>API</h2>

<p>TODO: Summary of all available API methods</p>

<h2 id='audio-sdk-handling-events'>Handling Events</h2>

<p>In order to listen for AloAudio events you need to add event listeners to the AloAudio.events object.  For example:</p>

<p><code>
aloAudio.events.addEventListener(&#39;onDisconnect&#39;, event =&gt; {
      console.log(&quot;onDisconnect:&quot;, event.detail);
})
</code></p>

<aside class="notice">
The event object may contain additional information about the event in <code>event.detail</code>
</aside>

<blockquote>
<p>Sample for handling audio events</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloAudio</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">onDisconnect</span><span class="dl">'</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">onDisconnect:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>

<p>TODO: Outline all the possible event messages that can be received.</p>

<blockquote>
<p>Example onConnectionChange event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ACQUIRING_ACCESS&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTING&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;RECONNECT_PENDING&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Audio Server Reconnect Pending&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">pendingRestartSeconds:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="err">retryCount:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-connection-related-events'>Connection Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onConnectionChange</td>
<td>As the connection to the Audio Service is established events showing the following statuses will be dispatched: AloAudio.CONNECTION_STATUS_ACQUIRING_ACCESS, AloAudio.CONNECTION_STATUS_CONNECTING, AloAudio.CONNECTION_STATUS_CONNECTED, AloAudio.STATUS_NOT_CONNECTED, AloAudio.CONNECTION_STATUS_ERROR, AloAudio.CONNECTION_STATUS_CONNECTED, AloAudio.CONNECTION_STATUS_RECONNECT_PENDING.</td>
</tr>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example onDisconnect event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">disconnect()</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">called</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="err">//</span><span class="w"> </span><span class="err">When</span><span class="w"> </span><span class="err">disconnected</span><span class="w"> </span><span class="err">unexpectedly</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-disconnect-related-events'>Disconnect Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example onJoinChannel event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINED&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Something went wrong&quot;</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-channel-connect-related-events'>Channel Connect Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onJoinChannel</td>
<td>As the connection to the Audio Service is established events showing the following statuses will be dispatched: AloAudio.CHANNEL_STATUS_JOINING, AloAudio.CHANNEL_STATUS_JOINED, AloAudio.STATUS_FAILED.</td>
</tr>
</tbody></table></p>

<h3 id='presence-sdk-ptt-related-events'>PTT Related Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onPTTStateChange</td>
<td>This event will let you know when the PTT button is available (meaning you are connected to an audio channel and no one else is speaking). The possible states are AloAudio.PTT_BUTTON_STATE_AVAILABLE and AloAudio.PTT_BUTTON_STATE_UNAVAILABLE.</td>
</tr>
<tr>
<td>onPTTLockChange</td>
<td>When you successfully acquire the lock to use the PTT there will be an event with the AloAudio.PTT_LOCK_ACQUIRED state.  When the lock is released the state will be AloAudio.PTT_LOCK_RELEASED</td>
</tr>
<tr>
<td>onPTTSpeakerChange</td>
<td>When a user acquires the PTT lock there will be an event containing information about the user that current attains the lock.</td>
</tr>
<tr>
<td>onMuteChange</td>
<td>When you acquire the lock there will be an event stating that you microphone is not muted.  When releasing the lock the event will indicate that your microphone is muted.</td>
</tr>
</tbody></table>

<blockquote>
<p>Example microphone event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onMicStateChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;MIC_STATE_AVAILABLE&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onMuteChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">audioType:</span><span class="w"> </span><span class="s2">&quot;INTERCOM&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">isMuted:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-full-duplex-related-events'>Full Duplex Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onMicStateChange</td>
<td>This event will let you know when the Full Duplex microphone button is available (meaning you are connected to an audio channel). The possible states are AloAudio.MIC_STATE_AVAILABLE, AloAudio.MIC_STATE_UNAVAILABLE and AloAudio.MIC_STATE_CHANGING_CHANNEL.  MIC_STATE_CHANGING_CHANNEL is a sub status MIC_STATE_UNAVAILABLE meaning you are in the process of changing channels.</td>
</tr>
<tr>
<td>onMuteChange</td>
<td>When call <code>startIntercom()</code> there will be an event stating that you microphone is not muted.  When you call <code>endIntercom()</code> the event will indicate that your microphone is muted.  See <a href="#audio-sdk-mute-and-unmute-audio">Mute and Unmute Audio</a> for more information</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example mute event payload</p>
</blockquote>

<p><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">detail</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">audioType</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">INTERCOM</span><span class="dl">&quot;</span><span class="p">,</span>
    <span class="na">isMuted</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h3 id='presence-sdk-mute-related-events'>Mute Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onMuteChange</td>
<td>After <code>startIntercom()</code> is called there will be an event stating that you microphone is not muted.  When you call <code>endIntercom()</code> the event will indicate that your microphone is muted.</td>
</tr>
</tbody></table></p>

<h3 id='presence-sdk-input-device-related-events'>Input Device Related Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onDeviceListUpdate</td>
<td>This event will let you know the list of available input devices has changed.</td>
</tr>
</tbody></table>

<blockquote>
<p>Example onParticipantsChanged event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">currentParticipantId:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="err">participants:</span><span class="w"> </span><span class="err">Array(</span><span class="mi">2</span><span class="err">)</span><span class="w">
      </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Jim Jones&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;2963&quot;</span><span class="w">
      </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;fd8aef24-bbb4-48aa-9d7c-f90d1c30d9a5&quot;</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Sally Smith&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;6487&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='presence-sdk-channel-participant-related-events'>Channel Participant Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onParticipantsChanged</td>
<td>When you join a channel you will there will be an event that gives you a list of the current channel participants.  While in a given channel a similar event each time a participant enters or leaves the channel.</td>
</tr>
</tbody></table></p>

<p><h1 id='video-sdk'>Video SDK</h1><h2 id='video-sdk-overview'>Overview</h2>
<p>TODO: Add some text here</p>
<h2 id='video-sdk-prerequisites'>Prerequisites</h2>
<p>TODO: Add some text here?</p>
<h3 id='video-sdk-prerequisites-get-an-api-key'>Get an API Key</h3>
<p>TODO: Explain how to get the account credentials</p>
<h3 id='video-sdk-prerequisites-get-the-javascript-sdk'>Get the Javascript SDK</h3>
<blockquote>
<p>Import the SDK</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="k">import</span> <span class="nx">AloVideo</span> <span class="k">from</span> <span class="dl">&quot;</span><span class="s2">alo-video-js</span><span class="dl">&quot;</span><span class="p">;</span>
</code></pre></div>
<p><code>npm install --save alo-video-js</code></p></p>

<p>TODO: will we also have a CDN version of the SDK?</p>

<h2 id='video-sdk-instantiating-the-video-service-object'>Instantiating the Video Service Object</h2>

<p>In order to instantiate the AloVideo object you are required to provide a number of properties. Once you have defined the properties you instantiate as shown:</p>

<p><code>aloVideo = new AloVideo(props);</code></p>

<h3 id='video-sdk-instantiating-the-video-service-object-user-object'>User Object</h3>

<p>TODO: create a User object class (maybe call it Participant instead)</p>

<p>The user object defines the user that will be participating in the video channels.</p>

<blockquote>
<p>Sample User Object.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code> <span class="nx">user</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Some unique id</span><span class="dl">"</span><span class="p">,</span>
   <span class="nx">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Some display name for the user</span><span class="dl">"</span><span class="p">,</span>
   <span class="nx">deviceId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Some unique id associated with user's current device</span><span class="dl">"</span>
 <span class="p">}</span>
</code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td>Unique User identifier</td>
</tr>
<tr>
<td>name</td>
<td>No</td>
<td>Name to be displayed in the list of participants for the current user.  If not provided a name will be generated from the user <code>id</code> and <code>deviceId</code></td>
</tr>
<tr>
<td>deviceId</td>
<td>No</td>
<td>Unique device identifier.  If not provided a random id will be generated.</td>
</tr>
</tbody></table>

<h3 id='video-sdk-instantiating-the-video-service-object-instantiation-properties'>Instantiation Properties</h3><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">connectToVideo</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">aloConnections</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">mutexUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">&lt;PROVIDED BY ĀLO&gt;</span><span class="dl">'</span>
    <span class="p">};</span>
    <span class="kd">let</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">12345</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">James Jones</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">deviceId</span><span class="p">:</span> <span class="dl">"</span><span class="s2">abcd-efsg-wqer-qewe</span><span class="dl">"</span>
    <span class="p">};</span>
    <span class="kd">let</span> <span class="nx">props</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">user</span><span class="p">:</span> <span class="nx">user</span><span class="p">,</span>
      <span class="na">aloConnections</span><span class="p">:</span> <span class="nx">aloConnections</span>
    <span class="p">};</span>
    <span class="nx">aloVideo</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AloVideo</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="nx">initializeEventListeners</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">initializeEventListeners</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">aloVideo</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">onDisconnect</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">onDisconnect:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
    <span class="p">})</span>

    <span class="nx">aloVideo</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">onConnectionChange</span><span class="dl">'</span><span class="p">,</span> <span class="nx">action</span><span class="p">(</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">onConnectionChange:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>

      <span class="k">switch</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nx">aloVideo</span><span class="p">.</span><span class="na">CONNECTION_STATUS_CONNECTED</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo video connected</span><span class="dl">"</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">aloVideo</span><span class="p">.</span><span class="na">CONNECTION_STATUS_DISCONNECTED</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo video disconnected</span><span class="dl">"</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">aloVideo</span><span class="p">.</span><span class="na">CONNECTION_STATUS_ERROR</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo video connection error</span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">aloVideo</span><span class="p">.</span><span class="na">CONNECTION_STATUS_CONNECTING</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo video connecting</span><span class="dl">"</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">aloVideo</span><span class="p">.</span><span class="na">CONNECTION_STATUS_RECONNECT_PENDING</span><span class="p">:</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Ālo video reconnect pending.  Retrying in </span><span class="dl">"</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">pendingRestartSeconds</span><span class="p">);</span>
          <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>

    <span class="p">}));</span>
<span class="p">}</span>
</code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>Yes</td>
<td></td>
<td>The <a href="#video-sdk-connecting-to-the-video-service-user-object">user</a> object that defines the current user</td>
</tr>
<tr>
<td>aloConnections</td>
<td>Yes</td>
<td></td>
<td>TBD</td>
</tr>
<tr>
<td>videoInputDeviceId</td>
<td>No</td>
<td></td>
<td>This is to be the id of a video input device.   When specified this is the device that will be used for video input.  If no device is specified the operating system&#39;s default video input device will be used.</td>
</tr>
</tbody></table>

<blockquote>
<p>Example onConnectionChange event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ACQUIRING_ACCESS&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTING&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;RECONNECT_PENDING&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Video Server Reconnect Pending&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">pendingRestartSeconds:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="err">retryCount:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-connection-related-events'>Connection Related Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onConnectionChange</td>
<td>As the connection to the Video Service is established events showing the following statuses will be dispatched: AloVideo.CONNECTION_STATUS_ACQUIRING_ACCESS, AloVideo.CONNECTION_STATUS_CONNECTING, AloVideo.CONNECTION_STATUS_CONNECTED, AloVideo.STATUS_NOT_CONNECTED, AloVideo.CONNECTION_STATUS_ERROR, AloVideo.CONNECTION_STATUS_CONNECTED, AloVideo.CONNECTION_STATUS_RECONNECT_PENDING.</td>
</tr>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>

<aside class="notice">
After you call the <code>connect()</code> method the Video Service will start dispatching events that you should add event listeners for&#46;
See <a href="#video-sdk-handling-events">Handling Events</a> for more information about the types of events that are available.
</aside>
<h2 id='video-sdk-disconnecting-from-the-video-service'>Disconnecting from the Video Service</h2>
<blockquote>
<p>Video Service Disconnect.</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
</code></pre></div>
<p>Invoking the <code>disconnect()</code> method will remove the user from any channel that they are currently participating in.  All connections to the video service will also be terminated.  You will need to <a href="#video-sdk-connecting-to-the-video-service">connect</a> again before attempting to join a channel.</p>

<blockquote>
<p>Example onDisconnect event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">disconnect()</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">called</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="err">//</span><span class="w"> </span><span class="err">When</span><span class="w"> </span><span class="err">disconnected</span><span class="w"> </span><span class="err">unexpectedly</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-disconnect-related-events'>Disconnect Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>
<h2 id='video-sdk-connect-channel'>Connect Channel</h2>
<blockquote>
<p>Sample Channel Connect.</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">connect</span><span class="p">({</span><span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">myChannelId</span><span class="dl">'</span><span class="p">});</span>
</code></pre></div>
<p>To connect to video channel you invoke the <code>connect(channel)</code> method.</p>

<blockquote>
<p>Example onJoinChannel event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINED&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Something went wrong&quot;</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-channel-joining-related-events'>Channel Joining Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onJoinChannel</td>
<td>As the connection to the Video Service is established events showing the following statuses will be dispatched: AloVideo.CHANNEL_STATUS_JOINING, AloVideo.CHANNEL_STATUS_JOINED, AloVideo.STATUS_FAILED.</td>
</tr>
</tbody></table></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>channel</td>
<td>No</td>
<td></td>
<td>The <a href="#video-sdk-connect-channel-channel-object">channel</a> object defining which channel to join upon connection to the service.</td>
</tr>
</tbody></table>

<h3 id='video-sdk-connect-channel-channel-object'>Channel Object</h3>

<p>TODO: create a Channel object class</p>

<p>The channel object defines the video channel that the user is currently participating in.</p>

<blockquote>
<p>Sample Channel Object.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">currentChannel</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Unique id for the channel</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Yes</td>
<td></td>
<td>Unique alphanumeric channel identifier</td>
</tr>
</tbody></table>

<h2 id='video-sdk-input-device-selection'>Input Device Selection</h2>

<blockquote>
<p>Example device list retrieval</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">devices</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">aloVideo</span><span class="p">.</span><span class="nx">getMediaList</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">listElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">select#availableCameras</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">listElement</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">devices</span><span class="p">[</span><span class="nx">AloVideoSDK</span><span class="p">.</span><span class="nx">MEDIA_DEVICE_LIST_VIDEO_INPUT</span><span class="p">]).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">device</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">inputOption</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">option</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">inputOption</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">device</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
  <span class="nx">inputOption</span><span class="p">.</span><span class="nx">label</span> <span class="o">=</span> <span class="nx">device</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>
  <span class="nx">inputOption</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">device</span><span class="p">.</span><span class="nx">label</span><span class="p">;</span>
  <span class="nx">listElement</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">inputOption</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p>Before joining a video channel you have the option of selecting which video input device (camera) to use.  If you do not specify an input device the operating system&#39;s default device will be used.</p>

<p>In order to get the current list of available video devices you can use the <code>getMediaList()</code> method.</p>

<p>You should also add a listener for the <code>onDeviceListUpdate</code> event.  If input devices change you can update your input device selection.</p>

<blockquote>
<p>Example onDeviceListUpdate event payload</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail</span><span class="w"> </span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="mi">99</span><span class="err">ee</span><span class="mi">472997</span><span class="err">a</span><span class="mi">484234</span><span class="err">acd</span><span class="mi">080</span><span class="err">b</span><span class="mi">1153</span><span class="err">c</span><span class="mi">88</span><span class="err">bd</span><span class="mi">3</span><span class="err">a</span><span class="mi">80</span><span class="err">dba</span><span class="mi">716179</span><span class="err">a</span><span class="mi">0</span><span class="err">c</span><span class="mi">90</span><span class="err">af</span><span class="mi">1</span><span class="err">c</span><span class="mi">60</span><span class="err">de</span><span class="mi">83685</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">"99ee472997a484234acd080b1153c88bd3a80dba716179a0c90af1c60de83685"</span><span class="p">,</span><span class="w">
        </span><span class="err">label:</span><span class="w"> </span><span class="s2">"Logitech HD Webcam C615 (046d:082c)"</span><span class="p">,</span><span class="w">
        </span><span class="err">type:</span><span class="w"> </span><span class="s2">"videoinput"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">c</span><span class="mi">72</span><span class="err">ee</span><span class="mi">2</span><span class="err">c</span><span class="mi">098</span><span class="err">ce</span><span class="mi">749</span><span class="err">a</span><span class="mi">5245</span><span class="err">ebbfd</span><span class="mi">0560349</span><span class="err">c</span><span class="mi">48929</span><span class="err">b</span><span class="mi">42</span><span class="err">f</span><span class="mi">89</span><span class="err">f</span><span class="mi">7</span><span class="err">a</span><span class="mi">3</span><span class="err">a</span><span class="mi">3969</span><span class="err">ba</span><span class="mi">1</span><span class="err">b</span><span class="mi">5087517</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">"c72ee2c098ce749a5245ebbfd0560349c48929b42f89f7a3a3969ba1b5087517"</span><span class="p">,</span><span class="w">
        </span><span class="err">label:</span><span class="w"> </span><span class="s2">"Some other camera,
        type: "</span><span class="err">videoinput</span><span class="s2">"
      }
  }
}
</span></code></pre></div>

<h3 id='audio-sdk-handling-events-input-device-related-events'>Input Device Related Events</h3>

<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onDeviceListUpdate</td>
<td>This event will let you know the list of available input devices has changed.</td>
</tr>
</tbody></table>

<p>When you instantiate the AloVideo object you can specify the input device id on the <code>videoInputDeviceId</code> property.  See: <a href="#video-sdk-connecting-to-the-video-service-instantiation-properties">Instantiation Properties</a></p>

<blockquote>
<p>Example change video input code</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">changeVideoInput</span><span class="p">(</span><span class="nx">deviceId</span><span class="p">);</span>
</code></pre></div>

<p>If you are already in an video channel you can change your input device with the <code>changeVideoInput</code> method.</p>

<aside class="notice">
If you have specified an video input device that becomes unavailable (unplugged for example), the video input will change to the operating system's default device.
</aside>

<h2 id='video-sdk-publishing-local-video'>Publishing Local Video</h2>

<blockquote>
<p>Sample Publish Video.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">publishVideo</span><span class="p">();</span>
</code></pre></div>

<blockquote>
<p>Sample Unpublish Video.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">unPublishVideo</span><span class="p">();</span>
</code></pre></div>

<p>Before allowing the end user to publish video you should make sure you have received a <code>VIDEO_STATE_AVAILABLE</code> state from the <code>onVideoAvailabilityChange</code> event.  TODO: link to onVideoAvailabilityChange in the Handling Events section of this doc</p>

<p>To publish video you invoke the <code>publishVideo()</code> method.</p>

<p>To publish video you invoke the <code>unPublishVideo()</code> method.</p>

<blockquote>
<p>Example publishing event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onVideoAvailabilityChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;VIDEO_STATE_AVAILABLE&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onVideoChannelDetailStatus</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;VIDEO_LOCAL_PUBLISH_STATE_PUBLISH_PENDING&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-publishing-local-video-related-events'>Publishing Local Video Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onVideoAvailabilityChange</td>
<td>This event will let you know when the publishing video is available (meaning you are connected to a video channel). The possible states are AloVideo.VIDEO_STATE_AVAILABLE and AloVideo.VIDEO_STATE_UNAVAILABLE.</td>
</tr>
<tr>
<td>onVideoChannelDetailStatus</td>
<td>This event will give the current state of publishing your local video.  The possible states are AloVideo.VIDEO_LOCAL_PUBLISH_STATE_UNPUBLISHED, AloVideo.VIDEO_LOCAL_PUBLISH_STATE_PUBLISH_PENDING and AloVideo.VIDEO_LOCAL_PUBLISH_STATE_PUBLISHED.</td>
</tr>
<tr>
<td>onParticipantsChanged</td>
<td>When a participant (including the current user) published/unpublished video this event will be dispatched. See <a href="#video-sdk-participants">Participants</a> for more information.</td>
</tr>
</tbody></table></p>

<h2 id='video-sdk-participants'>Participants</h2>

<p>TODO: explain what a channel participant is</p>

<p>TODO: Participant should have deviceId if possible</p>

<p>TODO: participant id vs user id is confusing and we need a way to convey the difference (or hide the difference).</p>

<blockquote>
<p>Example onParticipantsChanged event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">currentParticipantId:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="err">participants:</span><span class="w"> </span><span class="err">Array(</span><span class="mi">2</span><span class="err">)</span><span class="w">
      </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="w">
        </span><span class="err">isPublishingVideo:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="err">mediaStream:</span><span class="w"> </span><span class="err">MediaStream</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Jim Jones&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;2963&quot;</span><span class="w">
      </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;fd8aef24-bbb4-48aa-9d7c-f90d1c30d9a5&quot;</span><span class="w">
        </span><span class="err">isPublishingVideo:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">mediaStream:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Sally Smith&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;6487&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-channel-participant-related-events'>Channel Participant Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onParticipantsChanged</td>
<td>When you join a channel you will there will be an event that gives you a list of the current channel participants.  While in a given channel a similar event each time a participant enters or leaves the channel as well as when they publish/unpublish video.</td>
</tr>
</tbody></table></p>

<h2 id='video-sdk-handling-remote-video-streams'>Handling Remote Video Streams</h2>

<p>TODO: Explain how to get video streams from the participants list</p>

<h2 id='video-sdk-muting-unmuting-remote-video-streams'>Muting/Unmuting Remote Video Streams</h2>

<blockquote>
<p>Sample Mute Participant.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">muteParticipant</span><span class="p">(</span><span class="nx">participantId</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</code></pre></div>

<blockquote>
<p>Sample Unmute Participant.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">muteParticipant</span><span class="p">(</span><span class="nx">participantId</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
</code></pre></div>

<p>You have the ability to mute/unmute audio from remote streams with the <code>muteParticipant()</code> method.</p>

<blockquote>
<p>Example mute event payload</p>
</blockquote>

<p><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">detail</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">participant</span><span class="p">:</span> <span class="nx">Participant</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">1145_ON_7d310571-01dd-475c-9505-d06383414581</span><span class="dl">&quot;</span>
    <span class="na">isPublishingVideo</span><span class="p">:</span> <span class="kc">true</span>
    <span class="na">mediaStream</span><span class="p">:</span> <span class="kc">null</span>
    <span class="na">muted</span><span class="p">:</span> <span class="kc">true</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">Jim Jones</span><span class="dl">&quot;</span>
    <span class="na">userId</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">2963</span><span class="dl">&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h3 id='audio-sdk-handling-events-mute-related-events'>Mute Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onMuteChange</td>
<td>After <code>muteParticipant()</code> is called there will be an event stating whether or not the given participant is currently muted.</td>
</tr>
</tbody></table></p>

<h2 id='video-sdk-recording-video'>Recording Video</h2>

<blockquote>
<p>Sample Video Recording.</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">publishVideo</span><span class="p">({</span><span class="na">record</span><span class="p">:</span> <span class="kc">true</span><span class="p">});</span>
</code></pre></div>

<p>To record video you can use the optional <code>record</code> propertly when publishing your video.</p>

<p>TODO: explain how/where they can access the vidfeo after it has been processed.</p>

<h2 id='video-sdk-automatic-reconnects'>Automatic Reconnects</h2>

<p>By default the Video SDK will automatically try to reconnect if there is any sort of connection issue.</p>

<p>TODO: explain how reconnects work
TODO: explain the option to turn off auto reconnects</p>

<h2 id='video-sdk-error-messages'>Error Messages</h2><h2 id='video-sdk-api'>API</h2><h2 id='video-sdk-handling-events'>Handling Events</h2>

<p>In order to listen for AloVideo events you need to add event listeners to the AloVideo.events object.  For example:</p>

<p><code>
aloVideo.events.addEventListener(&#39;onDisconnect&#39;, event =&gt; {
      console.log(&quot;onDisconnect:&quot;, event.detail);
})
</code></p>

<aside class="notice">
The event object may contain additional information about the event in <code>event.detail</code>
</aside>

<blockquote>
<p>Sample for handling video events</p>
</blockquote>

<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">aloVideo</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">onDisconnect</span><span class="dl">'</span><span class="p">,</span> <span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">onDisconnect:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">);</span>
<span class="p">})</span>
</code></pre></div>

<p>TODO: Outline all the possible event messages that can be received.</p>

<blockquote>
<p>Example onConnectionChange event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ACQUIRING_ACCESS&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTING&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;CONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;RECONNECT_PENDING&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Video Server Reconnect Pending&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">pendingRestartSeconds:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="err">retryCount:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="err">user:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-connection-related-events'>Connection Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onConnectionChange</td>
<td>As the connection to the Video Service is established events showing the following statuses will be dispatched: AloVideo.CONNECTION_STATUS_ACQUIRING_ACCESS, AloVideo.CONNECTION_STATUS_CONNECTING, AloVideo.CONNECTION_STATUS_CONNECTED, AloVideo.STATUS_NOT_CONNECTED, AloVideo.CONNECTION_STATUS_ERROR, AloVideo.CONNECTION_STATUS_CONNECTED, AloVideo.CONNECTION_STATUS_RECONNECT_PENDING.</td>
</tr>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example onDisconnect event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">when</span><span class="w"> </span><span class="err">disconnect()</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">called</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;DISCONNECTED&quot;</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="err">//</span><span class="w"> </span><span class="err">When</span><span class="w"> </span><span class="err">disconnected</span><span class="w"> </span><span class="err">unexpectedly</span><span class="w">
</span><span class="p">{</span><span class="w">
 </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span><span class="w">
  </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Lost connection to the server&quot;</span><span class="p">,</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-disconnect-related-events'>Disconnect Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onDisconnect</td>
<td>Once disconnected, either intentionally or due to an error, the onDisconnect event will be dispatched.</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example onJoinChannel event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINED&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"></p>

<p></span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;JOINING&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">message:</span><span class="w"> </span><span class="s2">&quot;Something went wrong&quot;</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-channel-joining-related-events'>Channel Joining Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onJoinChannel</td>
<td>As the connection to the Video Service is established events showing the following statuses will be dispatched: AloVideo.CHANNEL_STATUS_JOINING, AloVideo.CHANNEL_STATUS_JOINED, AloVideo.STATUS_FAILED.</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example publishing event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onVideoAvailabilityChange</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;VIDEO_STATE_AVAILABLE&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">onVideoChannelDetailStatus</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">state:</span><span class="w"> </span><span class="s2">&quot;VIDEO_LOCAL_PUBLISH_STATE_PUBLISH_PENDING&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-publishing-local-video-related-events'>Publishing Local Video Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onVideoAvailabilityChange</td>
<td>This event will let you know when the publishing video is available (meaning you are connected to a video channel). The possible states are AloVideo.VIDEO_STATE_AVAILABLE and AloVideo.VIDEO_STATE_UNAVAILABLE.</td>
</tr>
<tr>
<td>onVideoChannelDetailStatus</td>
<td>This event will give the current state of publishing your local video.  The possible states are AloVideo.VIDEO_LOCAL_PUBLISH_STATE_UNPUBLISHED, AloVideo.VIDEO_LOCAL_PUBLISH_STATE_PUBLISH_PENDING and AloVideo.VIDEO_LOCAL_PUBLISH_STATE_PUBLISHED.</td>
</tr>
<tr>
<td>onParticipantsChanged</td>
<td>When a participant (including the current user) published/unpublished video this event will be dispatched. See <a href="#video-sdk-participants">Participants</a> for more information.</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example onParticipantsChanged event payloads</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="err">detail:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">currentParticipantId:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="p">,</span><span class="w">
    </span><span class="err">channel:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="err">participants:</span><span class="w"> </span><span class="err">Array(</span><span class="mi">2</span><span class="err">)</span><span class="w">
      </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;871f35b5-479e-4b99-acba-71ab6fe50768&quot;</span><span class="w">
        </span><span class="err">isPublishingVideo:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="err">mediaStream:</span><span class="w"> </span><span class="err">MediaStream</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Jim Jones&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;2963&quot;</span><span class="w">
      </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="err">Participant</span><span class="w">
        </span><span class="err">id:</span><span class="w"> </span><span class="s2">&quot;fd8aef24-bbb4-48aa-9d7c-f90d1c30d9a5&quot;</span><span class="w">
        </span><span class="err">isPublishingVideo:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">mediaStream:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="err">muted:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="err">name:</span><span class="w"> </span><span class="s2">&quot;Sally Smith&quot;</span><span class="w">
        </span><span class="err">userId:</span><span class="w"> </span><span class="s2">&quot;6487&quot;</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='audio-sdk-handling-events-channel-participant-related-events'>Channel Participant Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onParticipantsChanged</td>
<td>When you join a channel you will there will be an event that gives you a list of the current channel participants.  While in a given channel a similar event each time a participant enters or leaves the channel as well as when they publish/unpublish video.</td>
</tr>
</tbody></table></p>

<blockquote>
<p>Example mute event payload</p>
</blockquote>

<p><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">detail</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">participant</span><span class="p">:</span> <span class="nx">Participant</span>
    <span class="na">id</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">1145_ON_7d310571-01dd-475c-9505-d06383414581</span><span class="dl">&quot;</span>
    <span class="na">isPublishingVideo</span><span class="p">:</span> <span class="kc">true</span>
    <span class="na">mediaStream</span><span class="p">:</span> <span class="kc">null</span>
    <span class="na">muted</span><span class="p">:</span> <span class="kc">true</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">Jim Jones</span><span class="dl">&quot;</span>
    <span class="na">userId</span><span class="p">:</span> <span class="dl">&quot;</span><span class="s2">2963</span><span class="dl">&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><h3 id='audio-sdk-handling-events-mute-related-events'>Mute Related Events</h3>
<table><thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onMuteChange</td>
<td>After <code>muteParticipant()</code> is called there will be an event stating whether or not the given participant is currently muted.</td>
</tr>
</tbody></table></p>
<h1 id='kittens-todo-remove'>Kittens (TODO: remove)</h1><h2 id='kittens-todo-remove-get-all-kittens'>Get All Kittens</h2><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="n">kittens</span><span class="p">.</span><span class="n">get</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/kittens"</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">kittn</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="dl">'</span><span class="s1">meowmeowmeow</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">kittens</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">kittens</span><span class="p">.</span><span class="kd">get</span><span class="p">();</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluffums"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calico"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves all kittens.</p>
<h3 id='kittens-todo-remove-get-all-kittens-http-request'>HTTP Request</h3>
<p><code>GET http://example.com/api/kittens</code></p>
<h3 id='kittens-todo-remove-get-all-kittens-query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include_cats</td>
<td>false</td>
<td>If set to true, the result will also include cats.</td>
</tr>
<tr>
<td>available</td>
<td>true</td>
<td>If set to false, the result will include kittens that have already been adopted.</td>
</tr>
</tbody></table>

<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside>
<h2 id='kittens-todo-remove-get-a-specific-kitten'>Get a Specific Kitten</h2><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="n">kittens</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/kittens/2"</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">kittn</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="dl">'</span><span class="s1">meowmeowmeow</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">kittens</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Max"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint retrieves a specific kitten.</p>

<aside class="warning">Inside HTML code blocks like this one, you can't use Markdown, so use <code>&lt;code&gt;</code> blocks to denote code.</aside>
<h3 id='kittens-todo-remove-get-a-specific-kitten-http-request'>HTTP Request</h3>
<p><code>GET http://example.com/kittens/&lt;ID&gt;</code></p>
<h3 id='kittens-todo-remove-get-a-specific-kitten-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to retrieve</td>
</tr>
</tbody></table>
<h2 id='kittens-todo-remove-delete-a-specific-kitten'>Delete a Specific Kitten</h2><div class="highlight"><pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="nf">kittens</span><span class="p">.</span><span class="nf">delete</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="p">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
<span class="n">api</span><span class="p">.</span><span class="n">kittens</span><span class="p">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://example.com/api/kittens/2"</span>
  <span class="nt">-X</span> DELETE
  <span class="nt">-H</span> <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">kittn</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="dl">'</span><span class="s1">meowmeowmeow</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">kittens</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">":("</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint deletes a specific kitten.</p>
<h3 id='kittens-todo-remove-delete-a-specific-kitten-http-request'>HTTP Request</h3>
<p><code>DELETE http://example.com/kittens/&lt;ID&gt;</code></p>
<h3 id='kittens-todo-remove-delete-a-specific-kitten-url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the kitten to delete</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
